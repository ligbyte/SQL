MySQL基本操作

1.进入数据库
mysql -u root -p

2.显示所有数据库
show databases;

3. 创建数据库 test
create database test; 

4. 选择数据库
use test; 

5.创建表 websites
每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。

CREATE TABLE IF NOT EXISTS `websites`(
    `id` INT UNSIGNED AUTO_INCREMENT,
    `name` VARCHAR(100) NOT NULL,
    `url` VARCHAR(40) NOT NULL,
    `aleax` INT,
    `country` VARCHAR(100),
    PRIMARY KEY ( `id` )
 );

 CREATE TABLE `apps` (
    `id` INT UNSIGNED AUTO_INCREMENT,
    `app_name` VARCHAR(50),
    `url` VARCHAR(100),
    `country` VARCHAR(10),
    PRIMARY KEY(`id`));

6.显示表结构
mysql> describe websites;
+---------+------------------+------+-----+---------+----------------+
| Field   | Type             | Null | Key | Default | Extra          |
+---------+------------------+------+-----+---------+----------------+
| id      | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
| name    | varchar(100)     | NO   |     | NULL    |                |
| url     | varchar(40)      | NO   |     | NULL    |                |
| aleax   | int(11)          | YES  |     | NULL    |                |
| country | varchar(100)     | YES  |     | NULL    |                |
+---------+------------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)


7.删除表
mysql> DROP TABLE websites;
Query OK, 0 rows affected (0.06 sec)


8.插入数据
 INSERT INTO websites (name,url,aleax,country) VALUES ("Google","https://www.google.cm/",1,"USA");
 INSERT INTO website (name,url,aleax,country) VALUES ("淘宝","https://www.taobao.com/",13,"CN");
 INSERT INTO websites (name,url,aleax,country) VALUES ("教程","http://www.runoob.com",4689,"CN");
 INSERT INTO websites (name,url,aleax,country) VALUES ("微博","http://weibo.com/",20,"CN");
 INSERT INTO websites (name,url,aleax,country) VALUES ("Facebook","https://www.facebook.com/",3,"USA");


INSERT INTO apps (app_name,url,country) VALUES ("QQ app","http://im.qq.com/","CN");
INSERT INTO apps (app_name,url,country) VALUES ("微博 app","http://weibo.com/","CN");
INSERT INTO apps (app_name,url,country) VALUES ("淘宝 app","https://www.taobao.com/","CN");

9.查所有数据
mysql> SELECT * FROM websites;
+----+----------+---------------------------+-------+---------+
| id | name     | url                       | aleax | country |
+----+----------+---------------------------+-------+---------+
|  1 | Google   | https://www.google.cm/    |     1 | USA     |
|  2 | 教程     | http://www.runoob.com     |  4689 | CN      |
|  3 | 微博     | http://weibo.com/         |    20 | CN      |
|  4 | Facebook | https://www.facebook.com/ |     3 | USA     |
+----+----------+---------------------------+-------+---------+
4 rows in set (0.00 sec)

10. 查询无重复数据
mysql> SELECT DISTINCT name,country FROM websites;
+----------+---------+
| name     | country |
+----------+---------+
| Google   | USA     |
| 教程     | CN      |
| 微博     | CN      |
| Facebook | USA     |
+----------+---------+
4 rows in set (0.00 sec)

mysql> SELECT DISTINCT country FROM websites;
+---------+
| country |
+---------+
| USA     |
| CN      |
+---------+
2 rows in set (0.00 sec)

11.更新

mysql> UPDATE websites SET aleax = 999,country = ZH-CN WHERE country = CN;
ERROR 1054 (42S22): Unknown column 'CN' in 'where clause'
mysql> UPDATE websites SET aleax = 999,country = "ZH-CN" WHERE country = "CN";
Query OK, 2 rows affected (0.01 sec)
Rows matched: 2  Changed: 2  Warnings: 0

mysql> SELECT * FROM websites;
+----+----------+---------------------------+-------+---------+
| id | name     | url                       | aleax | country |
+----+----------+---------------------------+-------+---------+
|  1 | Google   | https://www.google.cm/    |     1 | USA     |
|  2 | 教程     | http://www.runoob.com     |   999 | ZH-CN   |
|  3 | 微博     | http://weibo.com/         |   999 | ZH-CN   |
|  4 | Facebook | https://www.facebook.com/ |     3 | USA     |
+----+----------+---------------------------+-------+---------+
4 rows in set (0.00 sec)


12.删除某一行

mysql> DELETE FROM websites WHERE name = "Facebook" AND country = "USA";
Query OK, 1 row affected (0.40 sec)

mysql> SELECT * FROM websites;
+----+--------+------------------------+-------+---------+
| id | name   | url                    | aleax | country |
+----+--------+------------------------+-------+---------+
|  1 | Google | https://www.google.cm/ |     1 | USA     |
|  2 | 教程   | http://www.runoob.com  |   999 | ZH-CN   |
|  3 | 微博   | http://weibo.com/      |   999 | ZH-CN   |
+----+--------+------------------------+-------+---------+
3 rows in set (0.00 sec)

13.删除整张表内容
mysql> DELETE FROM websites;
Query OK, 3 rows affected (0.00 sec)

mysql> SELECT * FROM websites;
Empty set (0.01 sec)


MySQL高级操作

14. LIMIT 取最上方2条数据
mysql> SELECT * FROM websites LIMIT 2;
+----+--------+------------------------+-------+---------+
| id | name   | url                    | aleax | country |
+----+--------+------------------------+-------+---------+
|  5 | Google | https://www.google.cm/ |     1 | USA     |
|  6 | 教程   | http://www.runoob.com  |  4689 | CN      |
+----+--------+------------------------+-------+---------+
2 rows in set (0.00 sec)

15.LIKE模糊匹配
mysql> SELECT * FROM websites WHERE name LIKE 'g%';
+----+--------+------------------------+-------+---------+
| id | name   | url                    | aleax | country |
+----+--------+------------------------+-------+---------+
|  5 | Google | https://www.google.cm/ |     1 | USA     |
+----+--------+------------------------+-------+---------+
1 row in set (0.00 sec)

16.SQL通配符 % _ [charlist]  [^charlist] [!charlist]
mysql> SELECT * FROM websites WHERE name LIKE "face%";
+----+----------+---------------------------+-------+---------+
| id | name     | url                       | aleax | country |
+----+----------+---------------------------+-------+---------+
|  8 | Facebook | https://www.facebook.com/ |     3 | USA     |
+----+----------+---------------------------+-------+---------+
1 row in set (0.00 sec)

mysql> SELECT * FROM websites WHERE name LIKE "_ace";
Empty set (0.00 sec)

SQL 语句选取 name 以 "G"、"F" 或 "s" 开始的所有网站：
mysql> SELECT * FROM websites WHERE name REGEXP "^[GFs]";
+----+----------+---------------------------+-------+---------+
| id | name     | url                       | aleax | country |
+----+----------+---------------------------+-------+---------+
|  5 | Google   | https://www.google.cm/    |     1 | USA     |
|  8 | Facebook | https://www.facebook.com/ |     3 | USA     |
+----+----------+---------------------------+-------+---------+
2 rows in set (0.00 sec)


下面的 SQL 语句选取 name 以 A 到 H 字母开头的网站：
mysql> SELECT * FROM websites WHERE name REGEXP '^[A-H]';
+----+----------+---------------------------+-------+---------+
| id | name     | url                       | aleax | country |
+----+----------+---------------------------+-------+---------+
|  5 | Google   | https://www.google.cm/    |     1 | USA     |
|  8 | Facebook | https://www.facebook.com/ |     3 | USA     |
+----+----------+---------------------------+-------+---------+
2 rows in set (0.00 sec)

下面的 SQL 语句选取 name 不以 A 到 H 字母开头的网站：

mysql> SELECT * FROM websites WHERE name REGEXP '^[^A-H]';
+----+--------+-----------------------+-------+---------+
| id | name   | url                   | aleax | country |
+----+--------+-----------------------+-------+---------+
|  6 | 教程   | http://www.runoob.com |  4689 | CN      |
|  7 | 微博   | http://weibo.com/     |    20 | CN      |
+----+--------+-----------------------+-------+---------+
2 rows in set (0.00 sec)



17.IN 操作
mysql> SELECT * FROM websites WHERE name IN ("Google","教程");
+----+--------+------------------------+-------+---------+
| id | name   | url                    | aleax | country |
+----+--------+------------------------+-------+---------+
|  5 | Google | https://www.google.cm/ |     1 | USA     |
|  6 | 教程   | http://www.runoob.com  |  4689 | CN      |
+----+--------+------------------------+-------+---------+
2 rows in set (0.00 sec)

18.BETWEEN
mysql> SELECT * FROM websites WHERE aleax BETWEEN 1 AND 20;
+----+----------+---------------------------+-------+---------+
| id | name     | url                       | aleax | country |
+----+----------+---------------------------+-------+---------+
|  5 | Google   | https://www.google.cm/    |     1 | USA     |
|  7 | 微博     | http://weibo.com/         |    20 | CN      |
|  8 | Facebook | https://www.facebook.com/ |     3 | USA     |
+----+----------+---------------------------+-------+---------+
3 rows in set (0.00 sec)

19.别名
mysql> SELECT name AS n,country AS c FROM websites;
+----------+------+
| n        | c    |
+----------+------+
| Google   | USA  |
| 教程     | CN   |
| 微博     | CN   |
| Facebook | USA  |
+----------+------+
4 rows in set (0.01 sec)

mysql> SELECT name n,country AS c FROM websites;
+----------+------+
| n        | c    |
+----------+------+
| Google   | USA  |
| 教程     | CN   |
| 微博     | CN   |
| Facebook | USA  |
+----------+------+
4 rows in set (0.00 sec)

mysql> SELECT web.name,web.country FROM websites AS web WHERE web.name = "Google
";
+--------+---------+
| name   | country |
+--------+---------+
| Google | USA     |
+--------+---------+
1 row in set (0.00 sec)

mysql> SELECT web.name,web.country FROM websites web WHERE web.name = "Google";
+--------+---------+
| name   | country |
+--------+---------+
| Google | USA     |
+--------+---------+
1 row in set (0.00 sec)


20.SQL UNION 实例
mysql> SELECT country FROM websites UNION SELECT country FROM apps ORDER BY country;
+---------+
| country |
+---------+
| CN      |
| USA     |
+---------+
2 rows in set (0.00 sec)

mysql> SELECT country FROM websites UNION ALL SELECT country FROM apps ORDER BY
country;
+---------+
| country |
+---------+
| CN      |
| CN      |
| CN      |
| CN      |
| CN      |
| USA     |
| USA     |
+---------+
7 rows in set (0.00 sec)

21. SELECT INTO 实例












